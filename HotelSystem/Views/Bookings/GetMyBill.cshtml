@model IEnumerable<HotelSystem.Models.MyBill>
@{
    ViewBag.Title = "Bill Invoice";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}
<section class="ad-post bg-gray py-12">
    <div class="container col-md-12">
        <fieldset class="border border-gary p-4 mb-5">
            <div class="row">
                <div class="col-md-12">
                    @if (Model.Count() == 0)
                    {
                        <div class="row">
                            <div class="col-md-12">
                                <div class="alert alert-warning">
                                    <b>Note :</b> No bill available at the moment.
                                </div>
                            </div>
                        </div>
                    }
                    else
                    {
                        foreach (var bill in Model)
                        {
                            @*<section class="content-header alert alert-info">
                                <h1>
                                    Total Bill Invoice
                                    <small>@bill.billID</small>
                                </h1>
                                <ol class="breadcrumb">
                                    <li><a href="/home/index"><i class="fa fa-dashboard"></i> Home</a></li> &raquo;
                                    <li><a href="/bookings/index">Bookings</a></li> &raquo;
                                    <li class="active" href="#">BILL INVOICE</li>
                                </ol>
                            </section>*@
                           
                            <!-- Main content -->
                            <section class="invoice">
                                <!-- title row -->
                                <div class="row">
                                    <div class="col-md-12">
                                        <h2 class="page-header">
                                            <i class="fa fa-globe"></i> Paramount Hotel
                                            <small class="pull-right">Date: @DateTime.Now.Date.ToLongDateString()</small>
                                        </h2>
                                    </div>
                                    <!-- /.col -->
                                </div><hr />
                                <!-- info row -->
                                <div class="row invoice-info">
                                    <div class="col-sm-4 invoice-col">
                                        From
                                        <address>
                                            <strong>Paramount Hotel.</strong><br>
                                            18 Shirvic Criscent, Pinetown<br />
                                            4001 Durban, South Africa <br />
                                            Phone: (083) 802 2734<br>
                                            Email:hotelparamount63@gmail.com<br />
                                        </address>
                                    </div>
                                    <!-- /.col -->
                                    <div class="col-sm-4 invoice-col">
                                        To
                                        <address>
                                            <strong>@bill.Name @bill.Surname</strong><br>
                                            Guest No: <strong>@bill.RegNo</strong><br>
                                            @bill.Address, South Africa<br>
                                            Email: <strong>@bill.Email</strong>
                                        </address>
                                    </div>
                                    <!-- /.col -->
                                    <div class="col-sm-4 invoice-col">
                                        Bill Invoice: <b>@bill.billID</b><br>
                                        Bill Status: <b>@bill.Status</b><br>
                                        Payment Due: @DateTime.Now.Date.ToLongDateString()<br>
                                    </div>
                                    <!-- /.col -->
                                </div>
                                <hr />
                                <div class="row">

                                    <!-- /.col -->
                                    <div class="col-md-12">
                                        <p class="lead">Bill Status: <b>@bill.Status</b></p>

                                        <div class="table-responsive">
                                            <table class="table">
                                                <tr>
                                                    <td style="width:50%"></td>
                                                    <th>Booking Total:</th>
                                                    <td class="text-right"> R @bill.BookingTotal</td>
                                                </tr>                                
                                                <tr>
                                                    <td style="width:50%"></td>
                                                    <th>Total Amount Due:</th>
                                                    <td class="text-right"><b> R @bill.TotalAmount</b></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <!-- /.col -->
                                </div>
                                <!-- /.row -->
                                <!-- this row will not appear when printing -->
                                <div class="row no-print">
                                    <div class="col-md-12">
                                        @if (bill.TotalAmount > 0)
                                        {
                                            @Html.ActionLink("Make Payment", "OnceOff", "Payment", new { TotalPrice = bill.TotalAmount }, new { @class = "btn btn-outline-success" })

                                            <a class="btn btn-outline-primary pull-right" onclick="print()"><i class="fa fa-print"></i> Print</a>
                                        }
                                        else
                                        {
                                            <a href="/bookings/viewbillhistory" class="btn btn-outline-primary pull-right"><i class="fa fa-history"></i> Bill History</a>
                                        }
                                    </div>
                                </div>
                                <br />
                            </section>
                        }
                    }
                    </div>
            </div>
        </fieldset>
    </div>
</section>

