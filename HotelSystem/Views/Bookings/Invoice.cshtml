@model HotelSystem.Models.Booking
@{
    ViewBag.Title = "Invoice";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
    var total = 0m;
}
<section class="ad-post bg-gray py-5">
    <div class="container col-md-12">
        <fieldset class="border border-gary p-4 mb-5">
            <div class="row">
                <div class="col-md-12">
                    <section class="content-header alert alert-info">
                        <h1>
                            Invoice No.
                            <a href="/bookings/bookingdetails/@Model.RoomBookingId">@Model.RefNum</a>
                        </h1>
                        <ol class="breadcrumb">
                            <li><a href="/home/index"><i class="fa fa-dashboard"></i> Home</a></li> &raquo;
                            <li><a href="/bookings/bookingdetails/@Model.RoomBookingId">Bookings</a></li> &raquo;
                            <li class="active"><a href="#"> Invoice</a></li>
                        </ol>
                    </section>
                    <hr />
                    <!-- Main content -->
                    <section class="invoice">
                        <!-- title row -->
                        <div class="row">
                            <div class="col-md-12">
                                <h2 class="page-header">
                                    <i class="fa fa-globe"></i> Paramout Hotel
                                    <span class="pull-right">Date: @DateTime.Now.ToString("dd/MM/yyyy")</span>
                                </h2>
                            </div>
                            <!-- /.col -->
                        </div><hr />
                        <!-- info row -->
                        <div class="row invoice-info">
                            <div class="col-sm-4 invoice-col">
                                From
                                <address>
                                    <strong>Paramout Hotel.</strong><br>
                                    @Model.Room.hotels.Address<br />
                                    4001 Durban, South Africa <br />
                                    Phone: (083) 802 2734<br>
                                    Email: info@paramouthotel.com<br />
                                </address>
                            </div>
                            <!-- /.col -->
                            <div class="col-sm-4 invoice-col">
                                To
                                <address>
                                    <strong>@Model.Name @Model.Surname</strong><br>
                                    @Model.Address<br>
                                    South Africa,<br>
                                    Phone: @Model.Mobile<br>
                                    Email: @Model.GuestEmail
                                </address>
                            </div>
                            <!-- /.col -->
                            <div class="col-sm-4 invoice-col">
                                <b>Invoice @Model.RefNum</b><br>
                                <b>Payment Due:</b> @Model.CheckOutDate.Date.ToShortDateString()<br>
                            </div>
                            <!-- /.col -->
                        </div>
                        <!-- /.row -->
                        <!-- Table row -->
                        @*<div class="row">
                                <div class="col-xs-12 table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Qty/Amount</th>
                                                <th>Product/Facility</th>
                                                <th>Description</th>
                                                <th>Subtotal</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var i in Model.Laundry)
                                            {
                                                { total += i.Amount * i.Weight; };
                                                <tr>
                                                    <td>@i.Amount @i.HotelFacility.Facility.Units</td>
                                                    <td>@i.HotelFacility.Facility.Name</td>
                                                    <td></td>
                                                    <td class="text-right">R @(i.Amount * i.HotelFacility.Facility.Rates)</td>
                                                </tr>
                                            }
                                            @foreach (var i in Model.Bill)
                                            {
                                                { total += i.TotalAmount * i.TotalAmount; };
                                                <tr>
                                                    <td>@i.SpaTotal</td>
                                                    <td>@i.RoomServiceTotal</td>
                                                    <td>@i.LaundryTotal</td>
                                                    <td class="text-right">R @(i.TotalAmount)</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                                 /.col
                            </div>*@
                        <!-- /.row -->
                        <hr />
                        <div class="row">

                            <!-- /.col -->
                            <div class="col-md-12">
                                <p class="lead">Amount Due on: @Model.CheckOutDate.Date.ToLongDateString()</p>

                                <div class="table-responsive">
                                    <table class="table">
                                        <tr>
                                            <td style="width:50%"></td>
                                            <th>Subtotal:</th>
                                            <td class="text-right">R @Model.BasicCost</td>
                                        </tr>
                                        <tr>
                                            <td style="width:50%"></td>
                                            <th>Tax (15%)</th>
                                            <td class="text-right">R @Model.Tax</td>
                                        </tr>
                                        <tr>
                                            <td style="width:50%"></td>
                                            <th>Total:</th>
                                            <td class="text-right">R @Model.Total</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <!-- /.col -->
                        </div>
                        <!-- /.row -->
                        <!-- this row will not appear when printing -->
                        <div class="row no-print">
                            <div class="col-md-12">
                                <a href="/bookings/bookingdetails/@Model.RoomBookingId" class="btn btn-outline-info"><i class="fa fa-arrow-left"></i> Back</a>
                                <a class="btn btn-outline-primary pull-right" onclick="print()"><i class="fa fa-print"></i> Print</a>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </fieldset>
    </div>
</section>
